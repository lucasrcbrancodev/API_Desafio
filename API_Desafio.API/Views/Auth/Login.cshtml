@model LoginRequestDto

@using API_Desafio.Application.Dtos
@using API_Desafio.Application.Services
@inject ITokenProvider tokenProvider

@if (string.IsNullOrEmpty(tokenProvider.GetToken()))
{
    <form method="POST">
        <div class="container border p-4">
            <div class="row text-center">
                <h1>Login</h1>
            </div>

            <div class="row">
                <div class="col-12 col-md-6 offset-md-3 pb-2">
                    <input asp-for="Email" class="form-control" placeholder="Email.." />
                    <span asp-validation-for="Email" class="text-danger" />
                </div>

                <div class="col-12 col-md-6 offset-md-3 pb-2">
                    <input asp-for="Password" class="form-control" placeholder="Password.." type="password" />
                    <span asp-validation-for="Password" class="text-danger" />
                </div>

                <div class="col-12 col-md-6 offset-md-3 pb-2">
                    <button type="submit" class="form-control btn btn-success">Login</button>
                </div>
            </div>
        </div>
    </form>
}
else
{
    <h1>You are already logged in.</h1>
}

@section Scripts {
    <partial name="_ValidationScriptsPartial"></partial>
}